import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate travel plan for location: Las Vegas for 3 days for couples with a cheap budget, give me hotel options list with hotelName, hotelAddress, price, hotelImageUrl, geoCoordinates, rating, description and suggest itinerary with placeName, placeDetails, placeImageUrl, geoCoordinates, ticketPricing, timeToTravel for each of the locations for 3 days with each day plan with best time to visit in JSON format." },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"hotels\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$$\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/media/content/dam/trvl-media/hotels/images/hotels/400000/399500/399544/399544_0_425x283.jpg\",\n      \"geoCoordinates\": [36.1696, -115.1429],\n      \"rating\": 4.0,\n      \"description\": \"A centrally located hotel on Fremont Street with a casino, live music, and a retro vibe.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$$\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/media/content/dam/trvl-media/hotels/images/hotels/400000/399300/399368/399368_0_425x283.jpg\",\n      \"geoCoordinates\": [36.1275, -115.1695],\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly hotel with a circus theme, a midway, and a casino.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$$$\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/media/content/dam/trvl-media/hotels/images/hotels/400000/399700/399707/399707_0_425x283.jpg\",\n      \"geoCoordinates\": [36.1681, -115.1411],\n      \"rating\": 4.5,\n      \"description\": \"A luxurious hotel on Fremont Street with a casino, multiple restaurants, and a shark tank.\"\n    },\n    {\n      \"hotelName\": \"The Orleans Hotel & Casino\",\n      \"hotelAddress\": \"4500 W Tropicana Ave, Las Vegas, NV 89103\",\n      \"price\": \"$$\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/media/content/dam/trvl-media/hotels/images/hotels/400000/399100/399129/399129_0_425x283.jpg\",\n      \"geoCoordinates\": [36.0932, -115.2142],\n      \"rating\": 4.0,\n      \"description\": \"A spacious hotel with a casino, multiple restaurants, and a bowling alley.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Walk the pedestrian-only street, see the light show, and enjoy live entertainment.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/article_full_width/public/2023-07/Fremont-Street-Experience-Las-Vegas-Nevada-744x420.jpg\",\n          \"geoCoordinates\": [36.1697, -115.1427],\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2-3 hours\",\n          \"bestTime\": \"Evening\"\n        },\n        {\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"See a collection of vintage neon signs from Las Vegas's past.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/article_full_width/public/2023-07/Neon-Museum-Las-Vegas-Nevada-744x420.jpg\",\n          \"geoCoordinates\": [36.1747, -115.1337],\n          \"ticketPricing\": \"$20-25\",\n          \"timeToTravel\": \"1-2 hours\",\n          \"bestTime\": \"Late afternoon\"\n        },\n        {\n          \"placeName\": \"Golden Nugget Casino\",\n          \"placeDetails\": \"Try your luck at the casino and see the famous shark tank.\",\n          \"placeImageUrl\": \"https://www.golden nugget.com/las-vegas/media/images/casino-lobby-02.jpg\",\n          \"geoCoordinates\": [36.1681, -115.1411],\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\",\n          \"bestTime\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"See beautiful flower displays and sculptures.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/mgmresorts/bellagio/attractions/conservatory-botanical-garden/images/conservatory-botanical-garden-hero.jpg\",\n          \"geoCoordinates\": [36.1183, -115.1723],\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\",\n          \"bestTime\": \"Morning\"\n        },\n        {\n          \"placeName\": \"The Strip\",\n          \"placeDetails\": \"Walk the famous Strip and see the iconic hotels and casinos.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/article_full_width/public/2023-07/Las-Vegas-Strip-Nevada-744x420.jpg\",\n          \"geoCoordinates\": [36.1115, -115.1730],\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2-3 hours\",\n          \"bestTime\": \"Afternoon\"\n        },\n        {\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Enjoy a walk, grab a meal, and try the High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars/linq/general/linq-promenade-hero.jpg\",\n          \"geoCoordinates\": [36.1102, -115.1721],\n          \"ticketPricing\": \"$25-35 for High Roller\",\n          \"timeToTravel\": \"1-2 hours\",\n          \"bestTime\": \"Evening\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"Take a day trip to see this iconic dam and learn about its history.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/article_full_width/public/2023-07/Hoover-Dam-Las-Vegas-Nevada-744x420.jpg\",\n          \"geoCoordinates\": [36.0052, -114.9877],\n          \"ticketPricing\": \"$30-40\",\n          \"timeToTravel\": \"3-4 hours (roundtrip)\",\n          \"bestTime\": \"Morning\"\n        },\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Enjoy scenic hiking, rock climbing, and stunning desert views.\",\n          \"placeImageUrl\": \"https://www.nps.gov/redr/learn/nature/images/redrock_canyon_landscape.jpg\",\n          \"geoCoordinates\": [36.1779, -115.2586],\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"timeToTravel\": \"2-3 hours\",\n          \"bestTime\": \"Afternoon\"\n        },\n        {\n          \"placeName\": \"The Venetian's Gondola Rides\",\n          \"placeDetails\": \"Enjoy a romantic gondola ride through the canals of the Venetian.\",\n          \"placeImageUrl\": \"https://www.venetian.com/content/dam/mgmresorts/venetian/attractions/gondola-rides/images/gondola-rides-hero.jpg\",\n          \"geoCoordinates\": [36.1148, -115.1749],\n          \"ticketPricing\": \"$30-40\",\n          \"timeToTravel\": \"30 minutes\",\n          \"bestTime\": \"Evening\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\n* **hotelOptions**: This section provides a list of hotels with budget-friendly options, including their names, addresses, prices, images, locations, ratings, and descriptions.\n* **itinerary**: This section outlines a 3-day itinerary with suggested places to visit, details about each place, images, locations, ticket prices, travel times, and the best times to visit.\n* **Day 1**:  Starts with a walk on Fremont Street Experience, the Neon Museum, and a visit to the Golden Nugget Casino, allowing you to experience the vibrant atmosphere of Downtown Las Vegas. \n* **Day 2**: Focuses on the Strip with a visit to the Bellagio Conservatory & Botanical Garden, a walk along the Strip, and an evening at the LINQ Promenade.\n* **Day 3**: Includes a day trip to Hoover Dam, scenic exploration of Red Rock Canyon, and a romantic gondola ride at The Venetian.\n\n**Notes:**\n\n* This is a suggestion for a cheap budget itinerary. You can adjust it based on your preferences and budget. \n* Many attractions in Las Vegas offer discounts for online purchases or group tickets. \n* Remember to check the opening hours and availability of attractions before your trip. \n* Be sure to factor in the cost of transportation and meals when planning your budget. \n* You can find many affordable dining options off the Strip. \n* The \"price\" in the hotel options refers to a relative price range ($ being cheapest, $$$ being most expensive) and may not reflect specific nightly rates.  \n* You can find more information and booking options for the hotels and attractions on their respective websites. \n" },
            ],
        },
    ],
});
